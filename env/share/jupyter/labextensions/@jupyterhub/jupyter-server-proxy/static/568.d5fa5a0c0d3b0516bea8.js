"use strict";(self.webpackChunk_jupyterhub_jupyter_server_proxy=self.webpackChunk_jupyterhub_jupyter_server_proxy||[]).push([[568],{568:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var n=t(687),o=t(467),a=t(142),l=t(33);const s={id:"@jupyterhub/jupyter-server-proxy:add-launcher-entries",autoStart:!0,requires:[o.ILauncher,n.ILayoutRestorer],activate:async function(e,r,t){const n=await fetch(a.PageConfig.getBaseUrl()+"server-proxy/servers-info");if(!n.ok)return console.log("Could not fetch metadata about registered servers. Make sure jupyter-server-proxy is installed."),void console.log(n);const o=await n.json(),s="server-proxy",i=new l.WidgetTracker({namespace:s}),c=s+":open";t&&t.restore(i,{command:c,args:e=>({url:e.content.url,title:e.content.title.label,newBrowserTab:!1,id:e.content.id}),name:e=>e.content.id});const{commands:d,shell:u}=e;d.addCommand(c,{label:e=>e.title,execute:e=>{const r=e.id,t=e.title,n=e.url;if(e.newBrowserTab)return void window.open(n,"_blank");let o=i.find((e=>e.content.id==r));if(o||(o=function(e,r,t){const n=new l.IFrame({sandbox:["allow-same-origin","allow-scripts","allow-popups","allow-forms","allow-downloads","allow-modals"]});n.title.label=t,n.title.closable=!0,n.url=r,n.addClass("jp-ServerProxy"),n.id=e;const o=new l.MainAreaWidget({content:n});return o.addClass("jp-ServerProxy"),o}(r,n,t)),i.has(o)||i.add(o),!o.isAttached)return u.add(o),o;u.activateById(o.id)}});for(let e of o.server_processes){if(!e.launcher_entry.enabled)continue;const t=a.PageConfig.getBaseUrl()+e.launcher_entry.path_info,n=e.launcher_entry.title,o=e.new_browser_tab,l={command:c,args:{url:t,title:n+(o?" [â†—]":""),newBrowserTab:o,id:s+":"+e.name},category:"Notebook"};e.launcher_entry.icon_url&&(l.kernelIconUrl=e.launcher_entry.icon_url),r.add(l)}}}}}]);